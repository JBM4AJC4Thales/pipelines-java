# Maven
# Build your Java project and run tests with Apache Maven.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://learn.microsoft.com/en-us/azure/devops/pipelines/ecosystems/deploy-linux-vm?view=azure-devops&tabs=java

trigger:
- main

pool:
  vmImage: ubuntu-latest

jobs:  
- deployment: VMDeploy
  displayName: Web deploy
  environment:
    name:  dev
    resourceType: VirtualMachine
    tags: deb11_jbm # Update or remove value to match your tag
  strategy:
    runOnce:
      deploy:
        steps:
        - script: echo my first deployment
  

# stages:
# - stage: Build
#   displayName: Build stage
#   jobs:  
#   - job: Build
#     displayName: Build Maven Project
#     steps:
#     - task: Maven@4
#       displayName: 'Maven Package'
#       inputs:
#         mavenPomFile: 'pom.xml'
#     - task: CopyFiles@2
#       displayName: 'Copy Files to artifact staging directory'
#       inputs:
#         SourceFolder: '$(System.DefaultWorkingDirectory)'
#         Contents: '**/target/*.?(war|jar)'
#         TargetFolder: $(Build.ArtifactStagingDirectory)
#     - upload: $(Build.ArtifactStagingDirectory)
#       artifact: drop
